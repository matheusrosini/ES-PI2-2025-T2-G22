<!-- Matheus Henrique Portugal Narducci -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lançamento de Notas - NotaDez</title>

    <!-- CSS -->
    <link rel="stylesheet" href="styles/notas.css">

    <!-- Ícones -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>

    <!-- ===== Sidebar ===== -->
    <div class="sidebar">
        <h1>NotaDez</h1>

        <nav>
            <ul>
                <li><a href="instituicoes.html"><i data-lucide="school"></i> Instituições</a></li>
                <li><a href="disciplinas.html"><i data-lucide="book-open"></i> Disciplinas</a></li>
                <li><a href="turmas.html"><i data-lucide="users"></i> Turmas</a></li>
                <li><a href="notas.html" class="active"><i data-lucide="pencil"></i> Notas</a></li>
                <li><a href="dashboard.html"><i data-lucide="layout-dashboard"></i> Dashboard</a></li>
                <li><a href="login.html"><i data-lucide="log-out"></i> Sair</a></li>
            </ul>
        </nav>
    </div>

    <!-- ===== Conteúdo Principal ===== -->
    <main class="main-content">

        <h2><i data-lucide="clipboard-list"></i> Lançamento de Notas</h2>

        <!-- ===== Seleção de disciplina e turma ===== -->
        <section class="form-section">
            <h3>Selecione a disciplina e a turma</h3>

            <form>
                <select required>
                    <option value="">Selecione a disciplina</option>
                </select>

                <select required>
                    <option value="">Selecione a turma</option>
                </select>

                <button type="button">Carregar alunos</button>
            </form>
        </section>

         <div class="formula-container">
    <label for="formulaMedia">Fórmula da Média:</label>
    <input type="text" id="formulaMedia" value="(P1 + P2 + P3) / 3">
    <small>Exemplo: (P1 + P2 + P3) / 3</small>
  </div>

        <!-- ===== Tabela de notas ===== -->
        <section class="list-section">
            <h3><i data-lucide="list"></i> Notas Lançadas</h3>

            <table>
                <thead>
                    <tr>
                        <th>Aluno</th>
                        <th>P1</th>
                        <th>P2</th>
                        <th>P3</th>
                        <th>Média</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Exemplo de aluno</td>
                        <td><input type="number" step="0.01" min="0" max="10"></td>
                        <td><input type="number" step="0.01" min="0" max="10"></td>
                        <td><input type="number" step="0.01" min="0" max="10"></td>
                        <td>—</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <div class="button-group">
            <button class="save">Salvar Notas</button>
            <button class="export">Exportar CSV</button>
        </div>

    </main>

    <footer>
        © 2025 PUC-Campinas - Todos os direitos reservados
    </footer>

    <script>
  lucide.createIcons();

  // Seleciona todos os campos de nota
  const notasInputs = document.querySelectorAll('tbody input[type="number"]');

  // Função para calcular média de uma linha
  function calcularMedia(linha) {
    const notas = linha.querySelectorAll('input[type="number"]');
    let soma = 0;
    let quantidade = 0;

    notas.forEach(input => {
      const valor = parseFloat(input.value);
      if (!isNaN(valor)) {
        soma += valor;
        quantidade++;
      }
    });

    const mediaCell = linha.querySelector('td:last-child');
    if (quantidade > 0) {
      const media = soma / quantidade;
      mediaCell.textContent = media.toFixed(2);
    } else {
      mediaCell.textContent = '—';
    }
  }

  // Adiciona evento para recalcular média ao digitar
  notasInputs.forEach(input => {
    input.addEventListener('input', () => {
      const linha = input.closest('tr');
      calcularMedia(linha);
    });
  });

  // (opcional) recalcular todas ao carregar a página
  document.querySelectorAll('tbody tr').forEach(tr => calcularMedia(tr));
</script>

    


</body>
</html>
